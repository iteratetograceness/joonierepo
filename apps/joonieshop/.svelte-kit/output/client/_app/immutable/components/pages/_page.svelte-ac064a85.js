import{S as A,i as E,s as O,a as D,k as f,V as N,h,c as S,l as u,m as _,n as I,b as g,F as m,C as b,W as P,K as j,q as T,r as C,H as q,u as w}from"../../chunks/index-2fe51df0.js";import{l as H,a as J}from"../../chunks/cart-e37244de.js";function k(o,s,c){const l=o.slice();return l[5]=s[c],l}function y(o){let s,c,l=o[5].name+"",i,r,n;function e(){return o[3](o[5])}return{c(){s=f("button"),c=T("ADD TO CART: "),i=T(l)},l(a){s=u(a,"BUTTON",{});var t=_(s);c=C(t,"ADD TO CART: "),i=C(t,l),t.forEach(h)},m(a,t){g(a,s,t),m(s,c),m(s,i),r||(n=q(s,"click",e),r=!0)},p(a,t){o=a,t&1&&l!==(l=o[5].name+"")&&w(i,l)},d(a){a&&h(s),r=!1,n()}}}function R(o){let s,c,l,i,r=o[0],n=[];for(let e=0;e<r.length;e+=1)n[e]=y(k(o,r,e));return{c(){s=D(),c=f("main"),l=f("section"),i=f("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){N("svelte-1uoca09",document.head).forEach(h),s=S(e),c=u(e,"MAIN",{});var t=_(c);l=u(t,"SECTION",{});var d=_(l);i=u(d,"DIV",{class:!0});var v=_(i);for(let p=0;p<n.length;p+=1)n[p].l(v);v.forEach(h),d.forEach(h),t.forEach(h),this.h()},h(){document.title="joonieshop",I(i,"class","lg:h-[90vh]")},m(e,a){g(e,s,a),g(e,c,a),m(c,l),m(l,i);for(let t=0;t<n.length;t+=1)n[t].m(i,null)},p(e,[a]){if(a&3){r=e[0];let t;for(t=0;t<r.length;t+=1){const d=k(e,r,t);n[t]?n[t].p(d,a):(n[t]=y(d),n[t].c(),n[t].m(i,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=r.length}},i:b,o:b,d(e){e&&h(s),e&&h(c),P(n,e)}}}function V(o,s,c){let l,i;j(o,J,a=>c(4,i=a));let{data:r}=s;async function n(a,t=1){const d=await fetch("/api/cart",{method:"PATCH",body:JSON.stringify({product_id:a,quantity:t})});d.ok?(H(),console.log(i)):alert(JSON.stringify(await d.json()))}const e=a=>n(a.id,1);return o.$$set=a=>{"data"in a&&c(2,r=a.data)},o.$$.update=()=>{o.$$.dirty&4&&c(0,l=r.results||[])},[l,n,r,e]}class F extends A{constructor(s){super(),E(this,s,V,R,O,{data:2})}}export{F as default};
